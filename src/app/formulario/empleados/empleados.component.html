<div class="flex flex-col items-center p-4">
  <!-- Formulario -->
  <div class="w-full max-w-md mb-8">

    <h1 class="text-2xl font-bold text-gray-900 ">Formulario de empleados</h1>
    <br>

    <form [formGroup]="formulario" (ngSubmit)="onSubmit()" class="max-w-md mx-auto">
      <!-- Matricula -->
      <div class="mb-5">
        <label for="matricula" class="block mb-2 text-sm font-medium text-gray-900">
          Matricula:</label>
        <input type="text" id="matricula" class="bg-gray-200 border border-gray-400 text-gray-900 text-sm rounded-lg block w-full p-2.5" 
        placeholder="Su matricula aquí" formControlName="matricula" required />
      </div>
      <!-- Nombre -->
      <div class="mb-5">
        <label for="nombre" class="block mb-2 text-sm font-medium text-gray-900">
          Nombre:</label>
        <input type="text" id="nombre" class="bg-gray-200 border border-gray-400 text-gray-900 text-sm rounded-lg block w-full p-2.5" 
        placeholder="Su primer nombre aquí" formControlName="nombre" required />
      </div>
      <!-- Correo -->
      <div class="mb-5">
        <label for="email" class="block mb-2 text-sm font-medium text-gray-900">
          e-mail:</label>
        <input type="email" id="email" class="bg-gray-200 border border-gray-400 text-gray-900 text-sm rounded-lg block w-full p-2.5" 
        placeholder="Su correo electronico" formControlName="email" required />
      </div>
      <!-- Edad -->
      <div class="mb-5">
        <label for="edad" class="block mb-2 text-sm font-medium text-gray-900">
          Edad:</label>
        <input type="number" id="edad" class="bg-gray-200 border border-gray-400 text-gray-900 text-sm rounded-lg block w-full p-2.5" 
        placeholder="Su edad actual" formControlName="edad" required />
      </div>
      <!-- Horas de trabajo -->
      <div class="mb-5">
        <label for="horas" class="block mb-2 text-sm font-medium text-gray-900">
          Horas de trabajo:</label>
        <input type="number" id="horas" class="bg-gray-200 border border-gray-400 text-gray-900 text-sm rounded-lg block w-full p-2.5" 
        placeholder="Ingrese las horas  que ha trabajado" formControlName="horas" required />
      </div>
      <!-- Enviar -->
      <button type="submit" class="bg-gray-600 text-white hover:bg-gray-700 rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center">
        Agregar
      </button>
    </form>
  </div>

  <!-- Tabla y botones -->
  <div class="w-full max-w-4xl bg-gray-200 rounded-lg shadow-lg p-6">
    <button (click)="mostrarOcultarTabla()" class="bg-gray-600 text-white hover:bg-gray-700 rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center mb-4">
      {{ tablaVisible ? 'Ocultar Tabla' : 'Mostrar Tabla' }}
    </button>

    <div *ngIf="tablaVisible" class="relative overflow-x-auto mt-4">
      <table class="w-full text-sm text-left text-gray-600">
        <thead class="text-xs text-gray-700 uppercase bg-gray-300">
          <tr>
            <th class="px-6 py-3">Matrícula</th>
            <th class="px-6 py-3">Nombre</th>
            <th class="px-6 py-3">E-mail</th>
            <th class="px-6 py-3">Edad</th>
            <th class="px-6 py-3">Horas laboradas</th>
            <th class="px-6 py-3">Pago</th>
            <th class="px-6 py-3">Extra</th>
            <th class="px-6 py-3">Subtotal</th>
          </tr>
        </thead>
        <tbody class="bg-white">
          <tr *ngFor="let empleado of empleados" class="text-gray-600">
            <td class="px-6 py-4">{{ empleado.matricula }}</td>
            <td class="px-6 py-4">{{ empleado.nombre }}</td>
            <td class="px-6 py-4">{{ empleado.email }}</td>
            <td class="px-6 py-4">{{ empleado.edad }}</td>
            <td class="px-6 py-4">{{ empleado.horas }}</td>
            <td class="px-6 py-4">{{ calcularPagoNormal(empleado.horas) }}</td>
            <td class="px-6 py-4">{{ calcularPagoExtra(empleado.horas) }}</td>
            <td class="px-6 py-4">{{ calcularPagoNormal(empleado.horas) + calcularPagoExtra(empleado.horas) }}</td>
          </tr>
        </tbody>
        <tfoot class="bg-gray-300">
          <tr>
            <th colspan="7" class="px-6 py-3 text-right">Total:</th>
            <td class="px-6 py-3">{{ totalPagos }}</td>
          </tr>
        </tfoot>
      </table>
    </div>

    <!-- Modificar empleado -->
    <div class="mt-4 space-y-4">
      <div>
        <label for="matriculaModificar" class="block text-sm font-medium text-gray-900">Ingrese la matrícula del empleado que desea modificar</label>
        <input type="text" id="matriculaModificar" [(ngModel)]="matriculaModificar" class="bg-gray-200 border border-gray-400 text-gray-900 text-sm rounded-lg block w-full p-2.5" placeholder="Ingrese la matrícula"/>
        <button (click)="buscarEmpleadoPorMatricula()" class="bg-gray-600 text-white hover:bg-gray-700 rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center mt-2">Modificar</button>
      </div>

      <!-- Eliminar empleado -->
      <div>
        <label for="matriculaEliminar" class="block text-sm font-medium text-gray-900">Ingrese la matrícula del empleado que desea eliminar</label>
        <input type="text" id="matriculaEliminar" [(ngModel)]="matriculaEliminar" class="bg-gray-200 border border-gray-400 text-gray-900 text-sm rounded-lg block w-full p-2.5" placeholder="Ingrese la matrícula"/>
        <button (click)="eliminarEmpleadoPorMatricula()" class="bg-gray-600 text-white hover:bg-gray-700 rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center mt-2">Eliminar</button>
      </div>
    </div>
  </div>
</div>

<style>
  .input-field {
    width: 100%;
    padding: 0.5rem;
    border-radius: 0.375rem;
    border: 1px solid #d1d5db;
    background-color: #f9fafb;
    transition: border-color 0.3s ease;
  }

  .input-field:focus {
    border-color: #3b82f6;
    outline: none;
  }
</style>
